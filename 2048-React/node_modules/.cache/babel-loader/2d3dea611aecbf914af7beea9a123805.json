{"ast":null,"code":"export const getEmptytab = () => [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]];\n\nconst hasValue = (tab, value) => {\n  for (let i = 0; i < tab.length; i++) {\n    for (let j = 0; j < tab.length; j++) {\n      if (tab[i][j] === value) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}; //Pour verifier si le tab rempli n'a pas de 0 cell\n\n\nexport const isFull = tab => {\n  return !hasValue(tab, 0);\n};\n\nconst getRandomPos = () => {\n  const rowPos = Math.floor(Math.random() * 4);\n  const colPos = Math.floor(Math.random() * 4);\n  return [rowPos, colPos];\n};\n\nexport const generateRandom = tab => {\n  if (isFull(tab)) {\n    return tab;\n  }\n\n  let [row, col] = getRandomPos();\n\n  while (tab[row][col] !== 0) {\n    [row, col] = getRandomPos();\n  }\n\n  tab[row][col] = 2;\n  return tab;\n};\n\nconst compress = tab => {\n  const newTab = getEmptytab();\n\n  for (let i = 0; i < tab.length; i++) {\n    let colIndex = 0;\n\n    for (let j = 0; j < tab[i].length; j++) {\n      if (tab[i][j] !== 0) {\n        newTab[i][colIndex] = tab[i][j];\n        colIndex++;\n      }\n    }\n  }\n\n  return newTab;\n}; //Merger les cells avec same value \n\n\nconst merge = tab => {\n  for (let i = 0; i < tab.length; i++) {\n    for (let j = 0; j < tab[i].length - 1; j++) {\n      if (tab[i][j] !== 0 && tab[i][j] === tab[i][j + 1]) {\n        tab[i][j] = tab[i][j] * 2;\n        tab[i][j + 1] = 0;\n      }\n    }\n  }\n\n  return tab;\n};\n\nexport const moveLeft = tab => {\n  const newtab1 = compress(tab);\n  const newtab2 = merge(newtab1);\n  return compress(newtab2);\n};\n\nconst reverse = tab => {\n  const reversetab = getEmptytab();\n\n  for (let i = 0; i < tab.length; i++) {\n    for (let j = 0; j < tab[i].length; j++) {\n      reversetab[i][j] = tab[i][tab[i].length - 1 - j];\n    }\n  }\n\n  return reversetab;\n};\n\nexport const moveRight = tab => {\n  const reversetab = reverse(tab);\n  const newtab = moveLeft(reversetab);\n  return reverse(newtab);\n}; // -90deg  rotatetab[i][j] = tab[j][tab[i].length-1-i];\n\nconst rotationGauche = tab => {\n  const rotatetab = getEmptytab();\n\n  for (let i = 0; i < tab.length; i++) {\n    for (let j = 0; j < tab[i].length; j++) {\n      rotatetab[i][j] = tab[j][tab[i].length - 1 - i];\n    }\n  }\n\n  return rotatetab;\n}; // 90 deg rotatetab[i][j] = tab[tab[i].length - 1 -j][i];\n\n\nconst rotationDroite = tab => {\n  const rotatetab = getEmptytab();\n\n  for (let i = 0; i < tab.length; i++) {\n    for (let j = 0; j < tab[i].length; j++) {\n      rotatetab[i][j] = tab[tab[i].length - 1 - j][i];\n    }\n  }\n\n  return rotatetab;\n};\n\nexport const moveUp = tab => {\n  const rotatetab = rotationGauche(tab);\n  const newtab = moveLeft(rotatetab);\n  return rotationDroite(newtab);\n};\nexport const moveDown = tab => {\n  const rotatetab = rotationDroite(tab);\n  const newtab = moveLeft(rotatetab);\n  return rotationGauche(newtab);\n};\nexport const checkWin = tab => {\n  return hasValue(tab, 2048); //Returns TRUE si valeur 2048\n};\n\nconst estDifferent = (tab, updatedtab) => {\n  for (let i = 0; i < tab.length; i++) {\n    for (let j = 0; j < tab[i].length; j++) {\n      if (tab[i][j] !== updatedtab[i][j]) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n\nexport const isOver = tab => {\n  if (estDifferent(tab, moveLeft(tab))) {\n    return false;\n  }\n\n  if (estDifferent(tab, moveRight(tab))) {\n    return false;\n  }\n\n  if (estDifferent(tab, moveDown(tab))) {\n    return false;\n  }\n\n  if (estDifferent(tab, moveUp(tab))) {\n    return false;\n  }\n\n  return true;\n};","map":{"version":3,"sources":["/Users/alaadinz/01-starting-setupz/src/components/TabJeux.js"],"names":["getEmptytab","hasValue","tab","value","i","length","j","isFull","getRandomPos","rowPos","Math","floor","random","colPos","generateRandom","row","col","compress","newTab","colIndex","merge","moveLeft","newtab1","newtab2","reverse","reversetab","moveRight","newtab","rotationGauche","rotatetab","rotationDroite","moveUp","moveDown","checkWin","estDifferent","updatedtab","isOver"],"mappings":"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","sourcesContent":["export const getEmptytab = () => [\n\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0]\n]\n\n\nconst hasValue = (tab, value) => {\n    for (let i = 0; i < tab.length; i++) {\n        for (let j = 0; j < tab.length; j++) {\n            if (tab[i][j] === value) {\n                return true;\n            }\n        }\n    }\n    return false;\n};\n\n//Pour verifier si le tab rempli n'a pas de 0 cell\nexport const isFull = (tab) => {\n    return !hasValue(tab, 0);\n};\n\nconst getRandomPos = () => {\n    const rowPos = Math.floor(Math.random() * 4);\n    const colPos = Math.floor(Math.random() * 4);\n    return [rowPos, colPos];\n\n}\n\nexport const generateRandom = (tab) => {\n    if (isFull(tab)) {\n        return tab;\n    }\n    let [row, col] = getRandomPos();\n    while (tab[row][col] !== 0) {\n        [row, col] = getRandomPos();\n    }\n\n    tab[row][col] = 2;\n    return tab;\n};\n\n\n\nconst compress = (tab) => {\n    const newTab = getEmptytab();\n\n    for (let i = 0; i < tab.length; i++) {\n        let colIndex = 0;\n        for (let j = 0; j < tab[i].length; j++) {\n            if (tab[i][j] !== 0) {\n                newTab[i][colIndex] = tab[i][j];\n                colIndex++;\n            }\n        }\n    }\n    return newTab;\n};\n\n//Merger les cells avec same value \nconst merge = (tab) => {\n    for (let i = 0; i < tab.length; i++) {\n        for (let j = 0; j < tab[i].length - 1; j++) {\n\n            if (tab[i][j] !== 0 && tab[i][j] === tab[i][j + 1]) {\n                tab[i][j] = tab[i][j] * 2;\n                tab[i][j + 1] = 0;\n            }\n        }\n    }\n    return tab;\n};\n\nexport const moveLeft = (tab) => {\n    const newtab1 = compress(tab);\n    const newtab2 = merge(newtab1);\n    return compress(newtab2);\n};\n\nconst reverse = (tab) => {\n    const reversetab = getEmptytab();\n\n    for (let i = 0; i < tab.length; i++) {\n        for (let j = 0; j < tab[i].length; j++) {\n            reversetab[i][j] = tab[i][tab[i].length - 1 - j];\n        }\n    }\n    return reversetab;\n};\n\nexport const moveRight = (tab) => {\n    const reversetab = reverse(tab);\n    const newtab = moveLeft(reversetab);\n    return reverse(newtab);\n};\n\n// -90deg  rotatetab[i][j] = tab[j][tab[i].length-1-i];\nconst rotationGauche = (tab) => {\n    const rotatetab = getEmptytab();\n    for (let i = 0; i < tab.length; i++) {\n        for (let j = 0; j < tab[i].length; j++) {\n            rotatetab[i][j] = tab[j][tab[i].length - 1 - i];\n        }\n    }\n    return rotatetab;\n};\n// 90 deg rotatetab[i][j] = tab[tab[i].length - 1 -j][i];\nconst rotationDroite = (tab) => {\n    const rotatetab = getEmptytab();\n    for (let i = 0; i < tab.length; i++) {\n        for (let j = 0; j < tab[i].length; j++) {\n            rotatetab[i][j] = tab[tab[i].length - 1 - j][i];\n        }\n    }\n    return rotatetab;\n};\n\n\nexport const moveUp = (tab) => {\n    const rotatetab = rotationGauche(tab);\n    const newtab = moveLeft(rotatetab);\n    return rotationDroite(newtab);\n};\n\nexport const moveDown = (tab) => {\n    const rotatetab = rotationDroite(tab);\n    const newtab = moveLeft(rotatetab);\n    return rotationGauche(newtab);\n\n};\n\nexport const checkWin = (tab) => {\n    return hasValue(tab, 2048); //Returns TRUE si valeur 2048\n};\n\nconst estDifferent = (tab, updatedtab) => {\n    for (let i = 0; i < tab.length; i++) {\n        for (let j = 0; j < tab[i].length; j++) {\n            if (tab[i][j] !== updatedtab[i][j]) {\n                return true;\n            }\n        }\n    }\n    return false;\n};\n\nexport const isOver = (tab) => {\n    if (estDifferent(tab, moveLeft(tab))) {\n        return false;\n    }\n    if (estDifferent(tab, moveRight(tab))) {\n        return false;\n    }\n    if (estDifferent(tab, moveDown(tab))) {\n        return false;\n    }\n    if (estDifferent(tab, moveUp(tab))) {\n        return false;\n    }\n\n    return true;\n};"]},"metadata":{},"sourceType":"module"}